#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int main(int argc, char** argv){

	FILE *file = fopen(argv[1], "r");
	char *col = argv[2];
	char* line = (char*)malloc(1000000*(sizeof(char)));
	char* token = (char*)malloc(1000000*(sizeof(char)));
	const char s[2] = ",";
        int counter = 0;
	int index = -1;
	while(fscanf(file, "%s,", line)==1){
		//printf("%s\n", line);
		const char s[2] = ",";
		token = strtok(line,s);
		while(token!=NULL){
			//printf("%s\n",token);
			if(strcmp(token, col)==0){
				index = counter;
			}
			if(token[0].isdigit()){
				if(strstr(token, ".") != NULL){ // found float
					printf("token is float");
					printf("token: %f\n", atof(token));
				}else{
					printf("token is int");
					printf
				}
			}
			if(counter == index && strcmp(token, col)!=0){
				printf("%s\n",token);
			}
			token = strtok(NULL,s);
			counter++;
		}
		//printf("counter: %d\n", counter);
		counter = 0;
	}

    free(line);
    free(token);

    return 0;
}
